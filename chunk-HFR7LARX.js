import{a as ge}from"./chunk-B52FSEI7.js";import{a as de,b as me,c as pe,d as ce}from"./chunk-G6B6AZSJ.js";import"./chunk-VDWCKEYE.js";import"./chunk-5U2JP7Y3.js";import{a as oe,b as re,c as ae}from"./chunk-3CQKWVPW.js";import"./chunk-Z2JUUHCF.js";import{d as ie,e as ne,f as le,g as se}from"./chunk-L44P52BQ.js";import{f as V}from"./chunk-SSQJ3YUY.js";import{b as ee,c as te}from"./chunk-JLPIB5B6.js";import"./chunk-X4SNFC5H.js";import{a as Q,b as X}from"./chunk-BS5ZSUXQ.js";import{A as $,e as j,i as O,n as K,y as Y,z as Z}from"./chunk-RWOU77EA.js";import"./chunk-XSSXK7EZ.js";import{b as U,d as z,e as H,g as G,l as J}from"./chunk-RRIUMA4F.js";import"./chunk-LLONOUOZ.js";import"./chunk-LPI7DW4Z.js";import"./chunk-2AQ67VSH.js";import{$a as B,Ab as W,Bb as T,Ca as a,Cb as A,Kb as M,Lb as k,Ta as f,V as E,Va as m,Ya as N,Z as P,ab as L,bb as D,cb as t,db as e,eb as x,ha as p,ia as c,ib as h,jb as _,kb as g,pc as R,rb as b,sb as s,tb as w,uc as q,wb as v,xb as S,yb as I,zb as F}from"./chunk-QG64PWEM.js";var ye=()=>({width:"100%",right:"0",left:"0"}),ue=i=>({"920px":i}),Ce=()=>({width:"50rem",height:"35rem"}),_e=()=>[5,10,15,20,30],fe=()=>({"min-width":"50rem"});function be(i,d){i&1&&(t(0,"span",34),s(1,"Update Child Category Information."),e())}function he(i,d){i&1&&(t(0,"span",34),s(1,"Add Child Category Information."),e())}function xe(i,d){if(i&1){let l=h();t(0,"div",35)(1,"label",36),s(2,"Category Id"),e(),t(3,"input",37),I("ngModelChange",function(r){p(l);let o=g();return S(o.categoryObj.categoryId,r)||(o.categoryObj.categoryId=r),c(r)}),e()()}if(i&2){let l=g();a(3),v("ngModel",l.categoryObj.categoryId),m("disabled",!0)}}function we(i,d){i&1&&(t(0,"small",38),s(1,"Category Name is required"),e())}function ve(i,d){i&1&&(t(0,"small",38),s(1,"Parent Category is required"),e())}function Se(i,d){if(i&1){let l=h();t(0,"p-button",39),_("onClick",function(){p(l);let r=g();return c(r.addCategory())}),e()}if(i&2){g();let l=b(27),n=b(33);m("disabled",l.invalid||n.invalid)}}function Ie(i,d){if(i&1){let l=h();t(0,"p-button",40),_("onClick",function(){p(l);let r=g();return c(r.updateCategory())}),e()}if(i&2){g();let l=b(27),n=b(33);m("disabled",l.invalid||n.invalid)}}function Te(i,d){i&1&&(t(0,"tr")(1,"th"),s(2,"S.NO"),e(),t(3,"th",41),s(4,"Category Id "),x(5,"p-sortIcon",42),e(),t(6,"th",43),s(7,"Category Name "),x(8,"p-sortIcon",44),e(),t(9,"th",45),s(10,"Parent Category"),x(11,"p-sortIcon",46),e(),t(12,"th"),s(13,"Action"),e()())}function Ee(i,d){if(i&1&&(t(0,"td"),s(1),M(2,"na"),e()),i&2){let l=g().$implicit;a(),w(k(2,1,l.name))}}function Me(i,d){if(i&1&&f(0,Ee,3,3,"td",49),i&2){let l=d.$implicit,n=g().$implicit;m("ngIf",l.id===n.parentCategoryId)}}function ke(i,d){if(i&1){let l=h();t(0,"tr")(1,"td"),s(2),e(),t(3,"td"),s(4),M(5,"na"),e(),t(6,"td"),s(7),M(8,"na"),e(),L(9,Me,1,1,"td",null,B),t(11,"td")(12,"button",47),_("click",function(){let r=p(l).$implicit,o=g();return c(o.editCategory(r))}),e(),t(13,"button",48),_("click",function(){let r=p(l).$implicit,o=g();return c(o.deleteCategory(r._id))}),e()()()}if(i&2){let l=d.$implicit,n=d.rowIndex,r=g();a(2),w(n+1),a(2),w(k(5,5,l.categoryId)),a(3),w(k(8,7,l.categoryName)),a(2),D(r.pcategoryList),a(3),m("text",!0),a(),m("text",!0)}}var it=(()=>{let d=class d{constructor(){this.pcategoryList=[],this.categoryList=[],this.categoryObj=new V,this.isvisable=!1,this.category=E(ge),this.message=E(O),this.confirm=E(j)}ngOnInit(){this.getPCategory(),this.getCategory()}newCategory(){this.categoryObj=new V,this.isvisable=!0}reset(){this.categoryObj=new V}getPCategory(){this.category.getParentCategories().subscribe(n=>{n.result?this.pcategoryList=n.data.map(r=>({id:r._id,name:r.categoryName})):console.log(n.message)})}getCategory(){this.category.getChildCategories().subscribe(n=>{n.result?this.categoryList=n.data:console.log(n.message)})}addCategory(){this.category.createChildCategory(this.categoryObj).subscribe(n=>{n.result?(this.message.add({severity:"success",summary:"success",detail:"Child Category Added Successfully"}),this.isvisable=!1,this.getCategory()):this.message.add({severity:"error",summary:"error",detail:n.message})})}editCategory(n){this.isvisable=!0,this.categoryObj=n}updateCategory(){this.category.updateChildCategory(this.categoryObj).subscribe(n=>{n.result?(this.message.add({severity:"success",summary:"success",detail:"Child Category Updated Successfully"}),this.isvisable=!1,this.getCategory()):this.message.add({severity:"error",summary:"error",detail:n.message})})}deleteCategory(n){this.confirm.confirm({message:"Are you sure you want to delete this Category?",header:"Confirm",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{this.category.deleteChildCategory(n).subscribe(r=>{r.result?(this.message.add({severity:"success",summary:"success",detail:"Category Deleted Successfully"}),this.getCategory()):this.message.add({severity:"error",summary:"error",detail:r.message})})},reject:()=>{this.message.add({severity:"info",summary:"info",detail:"Delete cancelled"})}})}};d.\u0275fac=function(r){return new(r||d)},d.\u0275cmp=P({type:d,selectors:[["app-child-category"]],standalone:!0,features:[F([O,j]),W],decls:45,vars:31,consts:[["name","ngModel"],["parent","ngModel"],[3,"breakpoints"],[1,"col-md-12","flex","flex-row","align-item-center","justify-content-between"],[1,"flex","flex-column","gap-2"],[1,"text-900","font-medium","text-3xl"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/pages/dashboard",1,"text-decoration-none","text-900","font-medium"],["routerLink","/pages/child-category",1,"text-decoration-none","text-900","font-medium"],["aria-current","page",1,"breadcrumb-item","active"],[1,"flex","flex-row","gap-2","mt-4"],["label","Add Category","icon","pi pi-plus",1,"d-none","d-sm-none","d-md-block",3,"onClick","raised"],["icon","pi pi-plus",1,"d-md-none","d-sm-block",3,"onClick","raised"],["header","Parent Category","draggable","false","resizable","false",3,"visibleChange","modal","visible"],["class","p-text-secondary block mb-5",4,"ngIf"],["class","flex align-items-center gap-3 mb-3 ",4,"ngIf"],[1,"flex","align-items-center","gap-3","mb-5"],["for","categoryName",1,"font-semibold","w-6rem"],["pInputText","","id","categoryName","autocomplete","off","name","categoryName","ngModel","","required","",1,"flex-auto",3,"ngModelChange","ngModel"],["class","p-error",4,"ngIf"],["id","p-dropdown",1,"flex","align-items-center","gap-3","mb-5"],["htmlFor","ParentCategory",1,"font-semibold","w-6rem"],["id","ParentCategory","placeholder","Select Parent Category","optionLabel","name","optionValue","id","filterBy","name","ngModel","","required","",1,"flex-auto",3,"ngModelChange","ngModel","filter","options"],[1,"flex","justify-content-end","gap-2"],["label","Reset","severity","secondary",3,"onClick"],["label","Save",3,"disabled","onClick",4,"ngIf"],["label","Update",3,"disabled","onClick",4,"ngIf"],[1,"col-md-12"],[1,"row"],[1,"col-12","d-print-none"],["styleClass","p-datatable","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","first","showCurrentPageReport","rows","rowsPerPageOptions","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"p-text-secondary","block","mb-5"],[1,"flex","align-items-center","gap-3","mb-3"],["for","categoryId",1,"font-semibold","w-6rem"],["pInputText","","id","categoryId","autocomplete","off","name","categoryId",1,"flex-auto",3,"ngModelChange","ngModel","disabled"],[1,"p-error"],["label","Save",3,"onClick","disabled"],["label","Update",3,"onClick","disabled"],["pSortableColumn","categoryId","feild","categoryId"],["field","categoryId"],["pSortableColumn","categoryName","feild","categoryName"],["field","categoryName"],["pSortableColumn","parentCategoryId","feild","parentCategoryId"],["field","parentCategoryId"],["pButton","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-secondary",3,"click","text"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click","text"],[4,"ngIf"]],template:function(r,o){if(r&1){let u=h();t(0,"main"),x(1,"p-toast",2)(2,"p-confirmDialog"),t(3,"div",3)(4,"div",4)(5,"span",5),s(6,"Child Categories"),e(),t(7,"ol",6)(8,"li",7)(9,"a",8),s(10,"Home"),e()(),t(11,"li",7)(12,"a",9),s(13,"Child Categories"),e()(),t(14,"li",10),s(15,"List"),e()()(),t(16,"div",11)(17,"p-button",12),_("onClick",function(){return p(u),c(o.newCategory())}),e(),t(18,"p-button",13),_("onClick",function(){return p(u),c(o.newCategory())}),e(),t(19,"p-dialog",14),I("visibleChange",function(y){return p(u),S(o.isvisable,y)||(o.isvisable=y),c(y)}),f(20,be,2,0,"span",15)(21,he,2,0,"span",15)(22,xe,4,2,"div",16),t(23,"div",17)(24,"label",18),s(25,"Category Name"),e(),t(26,"input",19,0),I("ngModelChange",function(y){return p(u),S(o.categoryObj.categoryName,y)||(o.categoryObj.categoryName=y),c(y)}),e(),f(28,we,2,0,"small",20),e(),t(29,"div",21)(30,"label",22),s(31,"Parent Category"),e(),t(32,"p-dropdown",23,1),I("ngModelChange",function(y){return p(u),S(o.categoryObj.parentCategoryId,y)||(o.categoryObj.parentCategoryId=y),c(y)}),e(),f(34,ve,2,0,"small",20),e(),t(35,"div",24)(36,"p-button",25),_("onClick",function(){return p(u),c(o.reset())}),e(),f(37,Se,1,1,"p-button",26)(38,Ie,1,1,"p-button",27),e()()()(),t(39,"div",28)(40,"div",29)(41,"div",30)(42,"p-table",31),f(43,Te,14,0,"ng-template",32)(44,ke,14,9,"ng-template",33),e()()()()()}if(r&2){let u=b(27),C=b(33);a(),m("breakpoints",A(26,ue,T(25,ye))),a(16),m("raised",!0),a(),m("raised",!0),a(),N(T(28,Ce)),m("modal",!0),v("visible",o.isvisable),a(),m("ngIf",o.categoryObj._id!==""),a(),m("ngIf",o.categoryObj._id===""),a(),m("ngIf",o.categoryObj._id!==""),a(4),v("ngModel",o.categoryObj.categoryName),a(2),m("ngIf",u.invalid&&(u.dirty||u.touched)),a(4),v("ngModel",o.categoryObj.parentCategoryId),m("filter",!0)("options",o.pcategoryList),a(2),m("ngIf",C.invalid&&(C.dirty||C.touched)),a(3),m("ngIf",o.categoryObj._id===""),a(),m("ngIf",o.categoryObj._id!==""),a(4),m("value",o.categoryList)("paginator",!0)("first",0)("showCurrentPageReport",!0)("rows",10)("rowsPerPageOptions",T(29,_e))("tableStyle",T(30,fe))}},dependencies:[q,R,$,Y,Z,K,X,Q,oe,ce,de,me,pe,ne,ie,J,U,z,G,H,te,ee,se,le,ae,re]});let i=d;return i})();export{it as ChildCategoryComponent};
