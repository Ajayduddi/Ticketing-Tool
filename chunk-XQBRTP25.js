import{a as E}from"./chunk-4IJCF66K.js";import{e as f}from"./chunk-GMAE3TWP.js";import"./chunk-LLONOUOZ.js";import"./chunk-LPI7DW4Z.js";import"./chunk-2AQ67VSH.js";import{Ab as v,Ca as a,Ta as x,V as g,Va as p,Z as u,cb as t,db as i,eb as o,kb as k,pc as h,sb as n,tb as c,ub as m,uc as w}from"./chunk-QG64PWEM.js";function y(s,l){if(s&1&&(t(0,"div",2)(1,"div",13)(2,"div",4)(3,"div")(4,"span",5),n(5,"Total Employees"),i(),t(6,"div",6),n(7),i()(),t(8,"div",14),o(9,"i",15),i()(),t(10,"span",9),n(11),i(),t(12,"span",10),n(13,"since last week"),i()()()),s&2){let r=k();a(7),c(r.allEmp),a(4),m("",r.newEmployees," new ")}}function S(s,l){if(s&1&&(t(0,"div",2)(1,"div",16)(2,"div",4)(3,"div")(4,"span",5),n(5,"Total Tickets"),i(),t(6,"div",6),n(7),i()(),t(8,"div",17),o(9,"i",18),i()(),t(10,"span",9),n(11),i(),t(12,"span",10),n(13,"since last week"),i()()()),s&2){let r=k();a(7),c(r.allTickets),a(4),m("",r.newDeptTickets," new ")}}function b(s,l){if(s&1&&(t(0,"div",2)(1,"div",19)(2,"div",4)(3,"div")(4,"span",5),n(5,"New Tickets"),i(),t(6,"div",6),n(7),i()(),t(8,"div",20),o(9,"i",21),i()(),t(10,"span",9),n(11),i(),t(12,"span",10),n(13,"since last week"),i()()()),s&2){let r=k();a(7),c(r.openTickets),a(4),m("",r.newOpenTickets," new ")}}function I(s,l){if(s&1&&(t(0,"div",2)(1,"div",19)(2,"div",4)(3,"div")(4,"span",5),n(5,"Progress Tickets"),i(),t(6,"div",6),n(7),i()(),t(8,"div",22),o(9,"i",23),i()(),t(10,"span",9),n(11),i(),t(12,"span",10),n(13," since last week"),i()()()),s&2){let r=k();a(7),c(r.progressTickets),a(4),m("",r.newProgressTickets," new ")}}var H=(()=>{let l=class l{constructor(){this.user=JSON.parse(localStorage.getItem("user")||""),this.ticket=g(E)}ngOnInit(){this.ticket.getDashboard().subscribe(e=>{e.result?this.user.role==="superadmin"?(this.allTickets=e.data.allTickets,this.myTickets=e.data.myTickets,this.assignedTickets=e.data.AssignedTickets,this.allEmp=e.data.allEmployees,this.openTickets=e.data.openTickets,this.progressTickets=e.data.ProgressTickets+e.data.startTickets,this.newDeptTickets=e.data.newdeptTickets,this.newMyTickets=e.data.newmyTickets,this.newAssignedTickets=e.data.newAssignedTickets,this.newEmployees=e.data.newdeptEmployees,this.newOpenTickets=e.data.newopenTickets,this.newProgressTickets=e.data.newProgressTickets+e.data.newstartTickets):this.user.role==="Department Head"?(this.allTickets=e.data.deptTickets,this.myTickets=e.data.myTickets,this.assignedTickets=e.data.AssignedTickets,this.openTickets=e.data.openTickets,this.progressTickets=e.data.ProgressTickets+e.data.startTickets,this.allEmp=e.data.deptEmployees,this.newDeptTickets=e.data.newdeptTickets,this.newMyTickets=e.data.newmyTickets,this.newAssignedTickets=e.data.newAssignedTickets,this.newEmployees=e.data.newdeptEmployees,this.newOpenTickets=e.data.newopenTickets,this.newProgressTickets=e.data.newProgressTickets+e.data.newstartTickets):(this.myTickets=e.data.myTickets,this.assignedTickets=e.data.AssignedTickets,this.newMyTickets=e.data.newmyTickets,this.newAssignedTickets=e.data.newAssignedTickets):alert(e.message)})}};l.\u0275fac=function(T){return new(T||l)},l.\u0275cmp=u({type:l,selectors:[["app-dashboard"]],standalone:!0,features:[v],decls:34,vars:8,consts:[[1,"grid"],["class","col-6 md:col-6 lg:col-3",4,"ngIf"],[1,"col-6","md:col-6","lg:col-3"],["routerLink","/pages/tickets",1,"surface-card","shadow-2","p-3","border-round"],[1,"flex","justify-content-between","mb-3"],[1,"block","text-500","font-medium","mb-3"],[1,"text-900","font-medium","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-cyan-100","border-round",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-ticket","text-cyan-500","text-xl"],[1,"text-green-500","font-medium"],[1,"text-500"],[1,"flex","align-items-center","justify-content-center","bg-purple-100","border-round",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-check-circle","text-purple-500","text-xl"],["routerLink","/pages/employee",1,"surface-card","shadow-2","p-3","border-round"],[1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-users","text-blue-500","text-xl"],["routerLink","/pages/tickets","onload","constan",1,"surface-card","shadow-2","p-3","border-round"],[1,"flex","align-items-center","justify-content-center","bg-orange-100","border-round",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-briefcase","text-orange-500","text-xl"],[1,"surface-card","shadow-2","p-3","border-round"],[1,"flex","align-items-center","justify-content-center","bg-green-100","border-round",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-plus-circle","text-green-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-pink-100","border-round",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-clock","text-pink-500","text-xl"]],template:function(T,d){T&1&&(t(0,"main")(1,"div",0),x(2,y,14,2,"div",1)(3,S,14,2,"div",1),t(4,"div",2)(5,"div",3)(6,"div",4)(7,"div")(8,"span",5),n(9,"My Tickets"),i(),t(10,"div",6),n(11),i()(),t(12,"div",7),o(13,"i",8),i()(),t(14,"span",9),n(15),i(),t(16,"span",10),n(17,"since last week"),i()()(),t(18,"div",2)(19,"div",3)(20,"div",4)(21,"div")(22,"span",5),n(23,"Assigned Tickets"),i(),t(24,"div",6),n(25),i()(),t(26,"div",11),o(27,"i",12),i()(),t(28,"span",9),n(29),i(),t(30,"span",10),n(31,"since last week"),i()()(),x(32,b,14,2,"div",1)(33,I,14,2,"div",1),i()()),T&2&&(a(2),p("ngIf",d.user.role==="superadmin"||d.user.role==="Department Head"),a(),p("ngIf",d.user.role==="superadmin"||d.user.role==="Department Head"),a(8),c(d.myTickets),a(4),m("",d.newMyTickets," new "),a(10),c(d.assignedTickets),a(4),m("",d.newAssignedTickets," new "),a(3),p("ngIf",d.user.role==="superadmin"||d.user.role==="Department Head"),a(),p("ngIf",d.user.role==="superadmin"||d.user.role==="Department Head"))},dependencies:[w,h,f]});let s=l;return s})();export{H as DashboardComponent};
